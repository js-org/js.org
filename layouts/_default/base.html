<!doctype html>
<html lang="en">

<head>
    {{if .IsHome}}
    <link rel="canonical" href="https://js.org/index.html">
    {{end}}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    {{if .IsHome}}
    <title>{{.Site.Title }} - {{.Params.title}}</title>
    {{else}}
    <title>{{.Params.title }} - {{.Site.Title }}</title>
    {{end}}
    {{if .Site.Params.description}}
    <meta name="description" content="{{.Site.Params.description}}">
    {{end}}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/ico/favicon-32.png" sizes="32x32">
    <link rel="icon" type="image/svg+xml" href="/ico/favicon.svg">
    <link rel="apple-touch-icon" href="/ico/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#FFE70B">
    <meta name="application-name" content="{{.Site.Title}}">

    {{if .Params.full}}
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="{{.Site.Title }}">
    <meta name="twitter:site" content="@JS_ORG">
    <meta name="twitter:description" content="{{.Site.Params.description}}">
    <meta name="twitter:image" content="https://js.org/ico/512.png">
    <meta name="twitter:image:alt" content="JS.ORG logo">
    {{end}}

    {{if .Params.err}}
    <meta http-equiv="refresh" content="6; URL=/">
    {{end}}

    <link rel="preload" as="font" crossorigin href="/fnt/source-sans-pro-v14-latin-regular.woff2">
    <link rel="preload" as="font" crossorigin href="/fnt/source-sans-pro-v14-latin-600.woff2">

    {{if $main := resources.Get "main.scss" }}
    {{$options := dict "outputStyle" "compressed"}}
    {{$main := $main| toCSS
    $options }}
    {{ (printf "<%s>%s</%s>" "style" ($main.Content | safeCSS) "style") | safeHTML }}
    {{end}}

    {{if .IsHome}}
    {{if $index := resources.Get "index.scss" }}
    {{$options := dict "outputStyle" "compressed"}}
    {{$index := $index| toCSS $options }}
    {{ (printf "<%s>%s</%s>" "style" ($index.Content | safeCSS) "style") | safeHTML }}
    {{end}}
    {{end}}

    {{if .Params.full}}
    {{if $mainTS:= resources.Get "main.ts" }}
    <link rel="preload" href="/main.js" as="script">
    {{end}}
    {{end}}
</head>

<body>
    {{ block "body" . -}}
    <header>
        {{if .IsHome}}
        <div>
        {{else}}
        <a href="/" aria-label="JS.ORG">
        {{end}}
        <svg xmlns="http://www.w3.org/2000/svg" width="204px" height="100px">
            <path id="logoJS"
                d="M0 0v100h100V0H0zm55 74.5C55 83 50.6 90 40.8 90c-6.7 0-11.2-2.6-14.3-8l6.8-5c1.6 3 3.9 4.4 6.2 4.4 3.6 0 5.5-1.8 5.5-7.7V45h10v29.5zM75.8 90c-5.8 0-11.9-2.2-16.4-6.4l5.7-6.8c3.2 2.7 7.3 4.6 11 4.6 4.2 0 6.2-1.6 6.2-4.3 0-2.8-2.5-3.7-6.4-5.3L70 69.4c-4.6-1.8-8.9-5.6-8.9-12.1 0-7.3 6.5-13.1 15.8-13.1 5.1 0 10.5 2 14.3 5.8l-5.1 6.3c-2.9-2.2-5.6-3.5-9.2-3.5-3.5 0-5.6 1.5-5.6 4 0 2.7 2.9 3.7 6.7 5.2l5.7 2.3c5.4 2.2 8.8 5.8 8.8 12 0 7.3-6.1 13.7-16.7 13.7z" />
            <path id="logoORG"
                d="M11.6 129.1c0-8.8 5-13.8 12.2-13.8 7.3 0 12.2 5.1 12.2 13.8 0 8.8-5 14.1-12.2 14.1-7.3 0-12.2-5.3-12.2-14.1zm18.2-.5c0-5.4-2.3-8.6-6-8.6s-6 3.2-6 8.6 2.3 8.8 6 8.8 6-3.4 6-8.8zm25.9 14.2l-5.2-9.7h-3.3v9.7h-6.1v-26.9h9.7c5.7 0 10.4 2 10.4 8.4 0 4-1.9 6.5-4.8 7.8l6.1 10.8h-6.8zm-8.6-15.2h3.1c3.2 0 4.9-1.4 4.9-4s-1.7-3.5-4.9-3.5h-3.1v7.5zm18.1 1.8c0-8.9 6-14.1 13.1-14.1a11.78 11.78 0 0 1 8.5 3.5l-3.2 3.9c-1.4-1.2-2.8-2.1-5.1-2.1-4.2 0-7.1 3.3-7.1 8.7 0 5.5 2.5 8.7 7.6 8.7 1.1 0 2.2-.3 2.9-.8v-4.6h-4.5v-5h9.8V140c-1.9 1.8-5.1 3.3-8.9 3.3-7.3-.1-13.1-4.8-13.1-13.9zM95 109v40H5v-40h90m5-5H0v50h100v-50z" />
            <path
                d="M115.8 75.1c0-8.8 5-13.8 12.2-13.8 7.3 0 12.2 5.1 12.2 13.8 0 8.8-5 14.1-12.2 14.1-7.3 0-12.2-5.3-12.2-14.1zm18.2 0c0-5.4-2.3-8.6-6-8.6s-6 3.2-6 8.6 2.3 8.8 6 8.8c3.7.1 6-3.4 6-8.8zm25.8 13.7l-5.2-9.7h-3.3v9.7h-6.1v-27h9.7c5.7 0 10.4 2 10.4 8.4 0 4-1.9 6.5-4.8 7.8l6.1 10.8h-6.8zm-8.5-14.6h3.1c3.2 0 4.9-1.4 4.9-4s-1.7-3.5-4.9-3.5h-3.1v7.5zm18.1 1.2c0-8.9 6-14.1 13.1-14.1a11.78 11.78 0 0 1 8.5 3.5l-3.2 3.9c-1.4-1.2-2.8-2.1-5.1-2.1-4.2 0-7.1 3.3-7.1 8.7 0 5.5 2.5 8.7 7.6 8.7 1.1 0 2.2-.3 2.9-.8v-4.6h-4.5v-5h9.8V86c-1.9 1.8-5.1 3.3-8.9 3.3-7.3-.1-13.1-4.8-13.1-13.9zM199 5v90h-90V5h90m5-5H104v100h100V0z" />
        </svg>
        {{if .IsHome}}
        </div>
        {{else}}
        </a>
        {{end}}

        <div>

            {{if .Params.full}}
            <div class="badge">
                <a class="blue" title="JS.ORG on Twitter" href="https://twitter.com/JS_ORG" rel="nofollow noreferrer noopener" target="_blank">Twitter</a>
                <a title="Tweet JS.ORG" href="https://twitter.com/share?url=https%3A%2F%2Fjs.org" rel="nofollow noreferrer noopener" target="_blank">tweet this!</a>
            </div>
            {{end}}
        </div>
    </header>
    <main>
    {{ .Content }}
    </main>
    <footer>

        {{ if .Params.lastUpdate }}
        <div class="badge">
            <span>Last Update</span><span>{{ .Params.lastUpdate }}</span>
        </div>
        {{else}}
        <div>
            <a id="oc" class="badge blue" title="Open Collective" href="https://opencollective.com/js-org" rel="nofollow noreferrer noopener" target="_blank"><span>Donate</span><span>for registrar fees</span></a>
            <a id="gh" class="badge gray" title="GitHub" href="https://github.com/js-org/js.org" rel="nofollow noreferrer noopener" target="_blank"><span>GitHub</span>
                {{if .Params.full}}
                <span id="ghstars">3.6K</span>
                {{end}}
            </a>
        </div>
        {{end}}

        {{if .IsHome}}
        <div>
        {{else}}
        <a href="/" aria-label="JS.ORG">
        {{end}}
        <svg xmlns="http://www.w3.org/2000/svg" width="93px" height="30px">
            <use xlink:href="#logoJS" transform="scale(.3)" />
            <use xlink:href="#logoORG" transform="scale(.6) translate(53.6 -104)" />
        </svg>
        {{if .IsHome}}
        </div>
        {{else}}
        </a>
        {{end}}
        <hr>
        <span>WEBDESIGN: <a title="Werbeagentur Ansbach Webdesign" rel="noreferrer noopener" target="_blank" href="https://www.20zweinull.de/">20zweinull</a></span>
        <div><a href="/privacy.html" title="Privacy">Privacy</a> â–ª <a href="/imprint.html" title="Imprint">Imprint</a></div>
    </footer>
    {{ end -}}
    
    {{if .Params.full}}
    {{if $script:= resources.Get "main.ts" }}
    {{ $options := dict "targetPath" "main.js" "target" "es2015" "minify" (cond .Site.IsServer false true) "sourcemap"
    (cond .Site.IsServer "inline" "external")}}
    {{ $script := $script | js.Build $options }}
    <script type="text/javascript" src="{{ $script.RelPermalink }}" defer></script>
    {{ end }}
    {{ end }}
</body>

</html>